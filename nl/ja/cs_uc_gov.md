---

copyright:
  years: 2014, 2019
lastupdated: "2019-05-31"

keywords: kubernetes, iks

subcollection: containers

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}
{:download: .download}
{:preview: .preview}


# {{site.data.keyword.Bluemix_notm}} の自治体ユース・ケース
{: #cs_uc_gov}

以下のユース・ケースでは、{{site.data.keyword.containerlong_notm}} 上のワークロードがパブリック・クラウドから得られる利点について説明します。 これらのワークロードは、トラステッド・コンピューティングによって分離され、データ主権を守るために世界中の各地域に置かれ、新規コードの代わりに Watson 機械学習を使用し、オンプレミス・データベースに接続します。
{: shortdesc}

## 地方自治体は、公用データと民間データを組み合わせる地域の開発者とのコラボレーションを促進し、加速化しています
{: #uc_data_mashup}

あるオープン・ガバメント・データ・プログラム行政官は、公用データを地域コミュニティーや民間セクターと共有する必要がありますが、データは一体構造のオンプレミス・システムの中に閉じ込められています。
{: shortdesc}

{{site.data.keyword.Bluemix_notm}} を使用する理由: {{site.data.keyword.containerlong_notm}} を使用すると、この行政官は公用データと民間データを組み合わせた斬新な価値を提供できます。 同様に、このサービスは、一体構造のオンプレミス・アプリからマイクロサービスをリファクタリングし、公開するためのパブリック・クラウド・プラットフォームを提供します。 また、パブリック・クラウドでは、自治体と公共の提携機関が、外部クラウド・サービスや、コラボレーションしやすいオープン・ソースのツール類を使用できます。

主要なテクノロジー:    
* [多様な CPU、RAM、ストレージ必要量に適合するクラスター](/docs/containers?topic=containers-planning_worker_nodes#planning_worker_nodes)
* [{{site.data.keyword.contdelivery_full}} のオープン・ツールチェーンを含む DevOps ネイティブ・ツール](https://www.ibm.com/cloud/garage/toolchains/)
* [{{site.data.keyword.cos_full_notm}} による公用データへのアクセスの提供](/docs/services/cloud-object-storage?topic=cloud-object-storage-about)
* [プラグ・アンド・プレイの IBM Cloud アナリティクス・サービス](https://www.ibm.com/cloud/analytics)

**コンテキスト: 自治体は公用データと民間データを組み合わせる地域の開発者とのコラボレーションを促進し、加速化しています**
* 「オープン・ガバメント」モデルの採用が将来計画されていますが、この地方自治体機関は現状のオンプレミス・システムでは一気に変革を進めることができません。
* この機関はイノベーションをサポートし、民間セクター、市民、公共機関の間で共同開発を進めていきたいと考えます。
* 自治体組織と民間組織では開発環境が大きく異なるので、開発者は、API やデータを簡単に共有できる統一されたオープン・ソース・プラットフォームを持ち合わせていません。
* 自治体のデータはパブリック・アクセスが簡単にはできないオンプレミス・システムの中に閉じ込められています。

**ソリューション**

オープン・ガバメントへの転換は、パフォーマンス、対障害弾力性、事業継続性、セキュリティーを提供する土台の上に構築する必要があります。 イノベーションと共同開発が進行するにつれ、各機関と市民は、ソフトウェア会社、サービス・プロバイダー、インフラストラクチャー提供企業の「保護とサービス」に頼るようになります。

そこで、官僚主義を打ち壊し、政府と有権者の関係を変容させるために、共同作成のためのプラットフォームを構築するオープン・スタンダードに取り組むことにしました。

* OPEN DATA – 市民、自治体機関、各企業が自由にデータにアクセスし、共有し、拡張できるデータ・ストレージ
* OPEN API – すべてのコミュニティー・パートナーによって API が構築され、再利用される開発プラットフォーム
* OPEN INNOVATION – 開発者が手操作でコーディングするのではなく、イノベーションをプラグインできる一連のクラウド・サービス

まず初めに、この自治体は {{site.data.keyword.cos_full_notm}} を使用して公用データをクラウドに保管します。 このストレージは、帰属や共有などの条件に従うだけで無料で使用/再使用できますし、誰とでも共有可能です。 機密データはクラウドにプッシュする前にサニタイズできます。 それに加えて、クラウドでは新しいデータ保管を制限できるよう、アクセス制御が設定されます。その場所で、コミュニティーは拡張された既存のフリー・データの POC (概念実証) を実行できます。

この自治体による公共/民間連携の次のステップは、{{site.data.keyword.apiconnect_long}} でホストされる API エコノミーを確立することでした。 そこでは、コミュニティーと企業の開発者が API 形式でデータを簡単にアクセスできるようにします。 その目標は、誰でも使用可能な REST API を用意し、相互運用を可能にして、アプリ統合を加速化することにあります。 これらの開発者は、IBM {{site.data.keyword.SecureGateway}} を使用して、オンプレミスの民間データ・ソースにも接続することにします。

最終的には、そうした共有 API に基づくアプリが、クラスターに簡単に開始できる {{site.data.keyword.containerlong_notm}} でホストされます。 こうすることで、コミュニティー、民間セクター、自治体の開発者が簡単にアプリを共同作成できるようになります。 つまり、開発者はインフラストラクチャーの管理ではなく、コーディングに専念する必要があります。 それで、{{site.data.keyword.containerlong_notm}} が選択されました。IBM では次のようなインフラストラクチャー管理が簡素化されるからです。
* Kubernetes マスター、IaaS、運用コンポーネント (Ingress やストレージなど) の管理
* 正常性のモニタリングとワーカー・ノードのリカバリー
* グローバル・コンピューティングの提供。開発者はワークロードやデータを配置する必要がある世界中の地域のインフラストラクチャーを常に用意しておく必要がなくなります

コンピュート・ワークロードを {{site.data.keyword.Bluemix_notm}} に移行するだけでは十分ではありません。 この自治体はプロセスと方式の転換も同時に進める必要があります。 IBM Garage Method の手法を取り入れることによって、提供者は、継続的な統合とデリバリー (CI/CD) など DevOps の最新の手法に対応したアジャイルで反復的なデリバリー・プロセスを実装できます。

CI/CD プロセス自体の多くは、{{site.data.keyword.contdelivery_full}} によってクラウドで自動化されます。 提供者は、コンテナー・イメージの準備、脆弱性がないかの確認、Kubernetes クラスターへのデプロイという一連のワークフロー・ツールチェーンを定義することができます。

**ソリューション・モデル**

オンデマンドのコンピュート、ストレージ、API ツールは、オンプレミス・データ・ソースとの間でのセキュアなアクセスが可能なパブリック・クラウドで実行されます。

技術的ソリューション:
* {{site.data.keyword.containerlong_notm}}
* {{site.data.keyword.cos_full_notm}} と {{site.data.keyword.cloudant}}
* {{site.data.keyword.apiconnect_long}}
* IBM {{site.data.keyword.SecureGateway}}
* {{site.data.keyword.contdelivery_full}}

**ステップ 1: クラウドにデータを保管する**
* {{site.data.keyword.cos_full_notm}} は、パブリック・クラウド上のすべてのデータにアクセス可能な履歴データ・ストレージを提供します。
* {{site.data.keyword.cloudant}} を、開発者から提供されるキーと併用して、クラウドのデータをキャッシュします。
* IBM {{site.data.keyword.SecureGateway}} を使用して、既存のオンプレミス・データベースへのセキュア接続を維持します。

**ステップ 2: API でデータにアクセスできるようにする**
* API エコノミー・プラットフォーム用の {{site.data.keyword.apiconnect_long}} を使用します。 API を使用することにより、公共セクターと民間セクターはそれぞれのアプリにデータを結合できます。
* API によって操作される、公共/民間アプリ用のクラスターを作成します。
* アプリを、アプリの機能領域とその従属関係に基づいて、{{site.data.keyword.containerlong_notm}} 内で実行される一連の連携マイクロサービスとして構成します。
* それらのアプリを、{{site.data.keyword.containerlong_notm}} で実行されるコンテナーにデプロイします。 {{site.data.keyword.containerlong_notm}} に組み込まれた HA ツールは、自己修復やロード・バランシングなどを行いながら、ワークロードのバランスを取ります。
* 標準化された DevOps のダッシュボードを Kubernetes を介して提供します。Kubernetes は、あらゆるタイプの開発者がよく知っているオープン・ソース・ツールです。

**ステップ 3: IBM Garage とクラウド・サービスでイノベーションを行う**
* IBM Garage Method のアジャイルな反復型開発手法を採用し、ダウン時間なしで、フィーチャー、パッチ、フィックスの頻繁なリリースを可能にします。
* {{site.data.keyword.contdelivery_full}} は、カスタマイズ可能で共有可能なテンプレートを使用することにより、公共セクターと民間セクターの開発者が、統合されたツールチェーンを迅速にプロビジョンできるようにします。
* 開発者は、開発とテスト用のクラスターでアプリを構築してテストを実施した後、{{site.data.keyword.contdelivery_full}} ツールチェーンを使用して、実動クラスターにアプリをデプロイします。
* {{site.data.keyword.Bluemix_notm}} カタログから入手できる Watson AI、機械学習ツール、ディープ・ラーニング・ツールを使用して、開発者はドメインの問題に注意を集中します。 固有のカスタム ML コードを使用する代わりに、サービス・バインディングを使用して、ML ロジックがアプリにスナップされます。

**結果**
* 通常はなかなか進まない公共/民間連携ですが、アプリの開始が数カ月の単位ではなく数週間で迅速に行われます。 こうした開発提携により、今はフィーチャーとバグ修正を毎週最大 10 回配信できるようになりました。
* すべての参加者が良く知っている Kubernetes などのオープン・ソースのツールを使用すると、開発が加速します。 長い学習曲線はもはや阻害要因とはなりません。
* アクティビティー、情報、計画における透明性が市民と民間セクターに提供されます。 さらに、市民は自治体のプロセス、サービス、サポートに統合されます。
* 公共/民間連携は、ジカ・ウィルスの追跡、スマート配電、犯罪統計の分析、大学の「ニュー・カラー」教育 (専門スキルを重視した教育) など、非常に困難な数々の作業を達成しています。

## 大規模な公共港湾施設は、公共機関と民間組織の間で港湾データと積荷目録を安全に交換します
{: #uc_port}

政府機関によって運営されている港湾施設と民間輸送会社の IT 責任者は、港湾情報に接続し、可視性を提供し、安全に情報を交換する必要があります。 しかし、公共の港湾情報と民間の積荷目録とを接続するための統一されたシステムは存在していませんでした。
{: shortdesc}

{{site.data.keyword.Bluemix_notm}} を使用する理由: {{site.data.keyword.containerlong_notm}} では、政府と公共の提携機関が、外部クラウド・サービスや、コラボレーションしやすいオープン・ソースのツール類を使用できます。 コンテナーは、港湾当局と輸送会社の両方が、共有情報がセキュアなプラットフォーム上でホストされていると安心できるような共有可能なプラットフォームを提供しました。 さらにそのプラットフォームは、開発/テスト用の小規模なシステムから実動規模のシステムまで、段階に応じて拡大/縮小されます。 オープン・ツールチェーンを使用することによって、ビルド、テスト、デプロイメントが自動化されて、開発がさらに加速しました。

主要なテクノロジー:    
* [多様な CPU、RAM、ストレージ必要量に適合するクラスター](/docs/containers?topic=containers-planning_worker_nodes#planning_worker_nodes)
* [コンテナーのセキュリティーと分離](/docs/containers?topic=containers-security#security)
* [{{site.data.keyword.contdelivery_full}} のオープン・ツールチェーンを含む DevOps ネイティブ・ツール](https://www.ibm.com/cloud/garage/toolchains/)
* [SDK for Node.js](/docs/runtimes/nodejs?topic=Nodejs-nodejs_runtime#nodejs_runtime)

**コンテキスト: 港湾当局は、公共機関や民間組織に接続する港湾データと積荷目録を安全に交換します。**

* 政府機関と輸送会社では開発環境が大きく異なるので、開発者は、共同で作業できる統一されたプラットフォームを持ち合わせておらず、更新やフィーチャーのデプロイメントが遅くなっています。
* 開発者は世界中に広がり、組織の垣根を越えて分散しています。こうしたことを考えると、オープン・ソースと PaaS が最良のオプションです。
* セキュリティーが主要な懸念事項となっており、この問題がコラボレーションを行う上での重荷を増大させて、特にアプリが実動運用を始めた後に、ソフトウェアのフィーチャーと更新に影響を与えます。
* ジャストインタイムでデータを提供する必要があるので、輸送業務における遅延を減らすために世界中のシステムの可用性を高める必要があります。 配送拠点のタイム・テーブルは高度に制御されており、場合によっては柔軟性がありません。 Web の使用量が増大しているので、不安定になるとユーザー・エクスペリエンスが悪くなる可能性があります。

**ソリューション**

港湾施設と輸送会社は、物資と船舶の通関手続きを行うためのコンプライアンス関連の情報を、複数の通関業者にではなく一度だけ電子的に送信するための、統合された取引システムを共同開発します。 積荷目録アプリと税関アプリによって、特定の積荷の内容を素早く共有できるようになり、すべての文書業務は港湾施設の通関業者によって電子的に転送され、処理されます。

そこで、取引システムのソリューションに特化した提携アプリを作成することにしました。
* DECLARATIONS - 積荷目録を取り込み、一般的な通関書類をデジタル処理して、規格外項目についてはフラグを付けて調査と監視部署に回すためのアプリ
* TARIFFS – 関税額を計算し、その金額を船荷主に電子的に送信し、デジタル決済を受領するアプリ
* REGULATIONS – 絶えず変化し続ける、輸出入処理や関税処理に影響を与えるポリシーと法規制を前出の 2 つのアプリにフィードする、柔軟で構成可能なアプリ

開発者は {{site.data.keyword.containerlong_notm}} を使用して、アプリをコンテナーにデプロイすることから開始しました。 そして世界中の開発者が共同でアプリの改善を素早くデプロイできる、共有開発環境のクラスターを作成しました。 コンテナーでは各開発チームがそれぞれの好きな言語を使用できます。

セキュリティーを最優先: IT 責任者は、クラスターをホストするためにベアメタルのトラステッド・コンピューティングを選択しました。 {{site.data.keyword.containerlong_notm}} 用のベアメタルを使用することで、機密性の高いカスタム・ワークロードは、従来から備えていた独立性と、パブリック・クラウドの柔軟性とを兼ね備えるようになりました。 ベアメタルは、基盤となるハードウェアが悪用されていないことを検証できるトラステッド・コンピューティングを提供します。

この輸送会社は他の港湾施設とも提携を実現したいと考えているため、アプリのセキュリティーは重要です。 積荷目録と税関情報は非常に機密性の高い情報です。 そのセキュアなコアから、脆弱性アドバイザーが次のようなスキャンを行います。
* イメージの脆弱性スキャン
* ISO 27000 に基づくポリシー・スキャン
* ライブ・コンテナー・スキャン
* 既知のマルウェアに対するパッケージ・スキャン

{{site.data.keyword.iamlong}} では同時に、リソースに対して誰がどのレベルのアクセス権限を持つかを制御できます。

開発者は、既存のツールを使用してドメインの問題に注意を集中します。開発者はロギングとモニタリング用の固有のコードを作成するのではなく、{{site.data.keyword.Bluemix_notm}} サービスをクラスターにバインドすることで、コードをアプリに貼り付けます。 また、Kubernetes とインフラストラクチャーのアップグレード、セキュリティーなどは IBM が担当するので、開発者はインフラストラクチャーの管理作業から解放されます。

**ソリューション・モデル**

オンデマンドのコンピュート、ストレージ、Node スターター・キットは、必要に応じて、世界中の積荷データへのセキュアなアクセスが可能なパブリック・クラウドで実行されます。 クラスター内のコンピュートは、改ざん防止機能を持ち、ベアメタルに隔離されます。  

技術的ソリューション:
* トラステッド・コンピューティングを使用した {{site.data.keyword.containerlong_notm}}
* {{site.data.keyword.openwhisk}}
* {{site.data.keyword.cloudant}}
* IBM {{site.data.keyword.SecureGateway}}

**ステップ 1: マイクロサービスを使用してアプリをコンテナー化する**
* IBM が提供する Node.js スターター・キットを使用して、開発をすぐに開始します。
* アプリを、アプリの機能領域とその従属関係に基づいて、{{site.data.keyword.containerlong_notm}} 内で実行される一連の連携マイクロサービスとして構成します。
* 積荷目録および出荷アプリを、{{site.data.keyword.containerlong_notm}} で実行されるコンテナーにデプロイします。
* 標準化された DevOps のダッシュボードを Kubernetes を介して提供します。
* IBM {{site.data.keyword.SecureGateway}} を使用して、既存のオンプレミス・データベースへのセキュア接続を維持します。

**ステップ 2: グローバルな可用性を確保する**
* 開発者は、開発とテスト用のクラスターでアプリをデプロイした後、{{site.data.keyword.contdelivery_full}} ツールチェーンと Helm を使用して、世界中のクラスターに国別のアプリをデプロイします。
* こうすることで、ワークロードとデータを現地の法規制に適合させることができます。
* {{site.data.keyword.containerlong_notm}} に組み込まれた HA ツールは、自己修復やロード・バランシングなどを行いながら、各地域内でワークロードのバランスを取ります。

**ステップ 3: データ共有をする**
* {{site.data.keyword.cloudant}} は、最新の NoSQL データベースで、キー/値のような単純な文書から複雑な文書指向のデータ・ストレージや照会に至るまで広範囲のデータ駆動型ユース・ケースに適しています。
* 地域のデータベースに対する照会を最小限に抑えるために、{{site.data.keyword.cloudant}} を使用してアプリ間のユーザーのセッション・データをキャッシュします。
* この構成によって、{{site.data.keyword.containershort}} 上のアプリ間でフロントエンド・アプリの使いやすさとパフォーマンスが向上します。
* {{site.data.keyword.containerlong_notm}} のワーカー・アプリはオンプレミス・データを分析し、結果を {{site.data.keyword.cloudant}} に保管しますが、{{site.data.keyword.openwhisk}} は変更に反応し、着信データ・フィードのデータを自動的にサニタイズします。
* 同様に、ある地域の出荷通知をデータのアップロードによってトリガーできます。その後、ダウンストリームのすべてのコンシューマーが新しいデータにアクセスできるようになります。

**結果**
* IBM スターター・キット、{{site.data.keyword.containerlong_notm}}、{{site.data.keyword.contdelivery_full}} ツールを使用することによって、さまざまな組織や政府機関の世界中の開発者が連携することができます。 開発者たちは使い慣れた相互運用可能なツールを使って、カスタム・アプリを開発します。
* マイクロサービスを使用すると、パッチ、バグ修正、新しいフィーチャーを配信するまでの所要時間が大幅に短縮されます。 初期開発が迅速であるのに加えて、更新は週に 10 回と頻繁に行うことが可能です。
* 出荷業者と政府役人は現地の法規制に準拠しながら、目録データにアクセスし、通関データを共有することができます。
* 輸送会社はサプライ・チェーンにおける物流管理の改善、具体的にはコスト削減と通関手続きにかかる時間の短縮というメリットを受けることになります。
* 99% はデジタル申告されており、輸入の 90% は人間の介入なく処理されています。
